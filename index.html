<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>isp-diag - check your internet connection</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>isp-diag</h1>
            <button class="help-btn" onclick="showHelp()" title="Help">[?]</button>
        </header>

        <main>
            <section class="info-block">
                <h2>Your IP addresses:</h2>
                <div id="ip-addresses" class="data detecting">detecting...</div>
            </section>

            <section class="info-block">
                <h2>Your ISP:</h2>
                <div id="isp-info" class="data detecting">detecting...</div>
            </section>

            <section class="info-block">
                <h2>Your DNS resolvers:</h2>
                <div id="dns-resolvers" class="data detecting">detecting...</div>
            </section>

            <section class="info-block">
                <h2>DNS resolvers specify your IP subnet (ECS):</h2>
                <div id="ecs-status" class="data detecting">detecting...</div>
            </section>

            <section class="info-block">
                <h2>Your DNS security:</h2>
                <div id="dns-security" class="data detecting">detecting...</div>
            </section>

            <section class="info-block">
                <h2>Connection security:</h2>
                <div id="connection-security" class="data detecting">detecting...</div>
            </section>

            <section class="info-block">
                <h2>Network capabilities:</h2>
                <div id="network-caps" class="data detecting">detecting...</div>
            </section>

            <section class="info-block">
                <h2>Speed test:</h2>
                <div id="speed-test" class="data">
                    <button class="test-btn" onclick="runSpeedTest()">[run test]</button>
                    <span id="speed-result"></span>
                </div>
            </section>

            <section class="info-block">
                <h2>WebRTC leak test:</h2>
                <div id="webrtc-test" class="data detecting">detecting...</div>
            </section>
        </main>

        <footer>
            <p class="github-link">
                <a href="https://github.com/Rexhjdog/isp-diag" target="_blank">
                    Star us on GitHub
                </a>
            </p>
        </footer>
    </div>

    <div class="counter">
        dns: <span id="dns-counter">0</span>
    </div>

    <div id="help-modal" class="modal hidden">
        <div class="modal-content">
            <h2>About isp-diag</h2>
            <p>This tool checks your internet connection and reveals information about your ISP, DNS configuration, and potential privacy leaks.</p>
            <h3>What we check:</h3>
            <ul>
                <li><strong>IP addresses</strong> - Your public IPv4 and IPv6 addresses</li>
                <li><strong>ISP information</strong> - Your Internet Service Provider</li>
                <li><strong>DNS resolvers</strong> - Which DNS servers you're using</li>
                <li><strong>ECS (EDNS Client Subnet)</strong> - Whether your DNS leaks your subnet</li>
                <li><strong>DNS security</strong> - DNSSEC and encrypted DNS support</li>
                <li><strong>Connection security</strong> - HTTPS and TLS status</li>
                <li><strong>Network capabilities</strong> - IPv6, HTTP/3, DoH support</li>
                <li><strong>Speed test</strong> - Download speed measurement</li>
                <li><strong>WebRTC</strong> - Check for IP leaks via WebRTC</li>
            </ul>
            <button class="close-btn" onclick="hideHelp()">[close]</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>